{% load static %}

<nav class="navbar navbar-expand-lg " style="background-color: black;border-bottom: 1px solid rgb(229, 228, 226); "
    data-bs-theme="dark">
    <div class="container-fluid ">
        <a class="brand-name" href="{% url 'user_home' %}">Gurukul</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0 d-flex align-items-center">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        Saved
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{% url 'notes_saved_list' %}">Notes</a></li>
                        <li><a class="dropdown-item" href="{% url 'quiz_saved' %}">Quiz</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="{% url 'books_saved_list' %}">Books</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        Created
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{% url 'books_created_list' %}">Books</a></li>
                        <li><a class="dropdown-item" href="{% url 'notes_created_list' %}">Notes</a></li>
                        {% if user.user_type == 'teacher' %}
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="{% url 'quiz_created' %}">Quiz</a></li>
                        {% endif %}
                    </ul>
                </li>
                <a href="{% url 'user_friends_list' %}">
                    <img src="{% static 'Assets/chat_logo.png' %}" alt="Chat" class="profile_icon w-100 mx-0"
                        style="scale: 0.7;">
                </a>
                <a href="#home_offcanvas" data-bs-toggle="offcanvas" role="button" aria-controls="offcanvas">
                    <img src="{% static 'Assets/Profile.png' %}" alt="Profile" class="profile_icon w-100 "
                        style="scale: 0.6;">
                </a>
            </ul>
        </div>
        
    </div>
</nav>
<!--Offcanvas-->
<div class="offcanvas offcanvas-end me-5 mt-5" tabindex="-1" id="home_offcanvas" aria-labelledby="offcanvasLabel"
    data-bs-theme="dark" style="border-radius: 20px; width: 350px; height: 800px;">

    <div class="offcanvas-header d-flex justify-content-between"
        style="background-color: #022D35; font-family: 'Klavika';">
        <div class="d-block">
            <h3 class="offcanvas-title" id="offcanvasLabel">{{user.username}}</h3>
            <h5 class="offcanvas-title" id="offcanvasLabel">{{user.first_name}} {{user.last_name}}, <span
                    style="text-transform: capitalize;">{{user.user_type}}</span> </h5>
        </div>
        <!-- Close Button -->
        <button type="button" class="btn-close mb-auto mt-1" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body"
        style="font-weight:500 ;font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif">
        <div class="list-group list-group-flush">
            <a href="{% url 'profile' %}" class="list-group-item list-group-item-action">My Profile</a>
            <a href="{% url 'check_results' %}" class="list-group-item list-group-item-action">Check Results</a>
            <a href="{% url 'add_friend' %}" class="list-group-item list-group-item-action">Add Friend</a>
            
        </div>
    <!-- Accordion -->
    <div class="accordion" id="home_accordian">
        <!-- Accordion View -->
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                    data-bs-target="#view_home" aria-expanded="true" aria-controls="view_home">
                    View 
                </button>
            </h2>
            <div id="view_home" class="accordion-collapse collapse show" data-bs-parent="#home_accordian">
                <div class="accordion-body">
                    <div class="list-group list-group-flush">
                        <a href="{% url 'quiz_assigned' %}" class="list-group-item list-group-item-action">Assigned Quiz</a>
                        <a href="{% url 'class_list' %}" class="list-group-item list-group-item-action">Joined Classes</a>
                        <a href="{% url 'quiz_user_all_classes' %}" class="list-group-item list-group-item-action">Your Quiz</a>
                        <a href="{% url 'announcement_list' %}" class="list-group-item list-group-item-action">Your Announcements</a>
                    </div>
                </div>
            </div>
        </div>
        <!--Accordian Search-->
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#search_obj" aria-expanded="false" aria-controls="search_obj">
                    Find
                </button>
            </h2>
            <div id="search_obj" class="accordion-collapse collapse" data-bs-parent="#home_accordian">
                <div class="accordion-body">
                    <div class="list-group list-group-flush">
                        
                            
                            
                        
                        <a href="{% url 'class_join' %}" class="list-group-item list-group-item-action">Join Class</a>
                        <a href="{% url 'search_resources' %}" class="list-group-item list-group-item-action">Study Resources</a>
                        <a href="{% url 'search_quiz' %}" class="list-group-item list-group-item-action">Search Quiz</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Accordion Create -->
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#create_home" aria-expanded="false" aria-controls="create_home">
                    Create
                </button>
            </h2>
            <div id="create_home" class="accordion-collapse collapse" data-bs-parent="#home_accordian">
                <div class="accordion-body">
                    <div class="list-group list-group-flush">
                        {% if user.user_type == 'teacher' %}
                        <a href="#" class="list-group-item list-group-item-action">Class</a>
                        {% endif %}
                        <a href="#" class="list-group-item list-group-item-action">Books</a>
                        <a href="#" class="list-group-item list-group-item-action">Notes</a>
                        <a href="{% url 'create_announcement' %}" class="list-group-item list-group-item-action">Announcement</a>
                        <a href="{% url 'new_groupchat' %}" class="list-group-item list-group-item-action">Group Chat</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center mt-3">
        <a href="{% url 'logout' %}" class="btn btn-outline-danger w-75 ">
        Logout
        </a>
    </div>
    </div>
</div>